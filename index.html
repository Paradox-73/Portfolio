<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Art Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* Reset and Body */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #2c2c2c; /* Dark background outside the room */
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Prevent scrolling if possible */
        }

        /* The Room Container 
           This maintains the aspect ratio of the room and scales with the browser window.
        */
        #room-container {
            position: relative;
            width:100vw;
            aspect-ratio: 16/9; /* Standard widescreen aspect ratio */
            background-color: #e0d5c1; /* Fallback wall color */
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        /* Common styles for all assets */
        .asset {
            position: absolute;
            display: block;
            image-rendering: pixelated; /* Keeps pixel art crisp */
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy smooth transition */
            cursor: pointer;
            user-select: none;
            z-index: 10;
        }

        /* Hover Effect: Scale 1.05x and bring to front slightly */
        .asset:hover {
            transform: scale(1.05);
            z-index: 100; /* Pop on top of other items when hovering */
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
        }

        /* --- BACKGROUND LAYERS --- */
        
        /* The main room structure (walls, floor) */
        #room-bg {
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 5; /* In front of sky, behind objects */
            pointer-events: none; /* Let clicks pass through if needed */
        }

        /* The Night Sky (Behind the window) */
        #night-sky {
            width: 29%;
            top: 26%;
            left: 40%;
            z-index: 1; /* Furthest back */
        }
        #night-sky:hover {
            transform: none;
            filter: none;
        }

        /* --- OBJECT POSITIONING (Percentages relative to container) --- */

        /* == CEILING & WALLS == */
        
        #fan {
            width: 17%;
            top: 9%; /* Hanging from top */
            left: 42%;
            
            z-index: 20;
            transform-origin: top center;
        }
        /* Override hover for fan to keep it centered while scaling */
        #fan:hover {
            transform: none;
            filter: none; 
        }

        #polaroids {
            width: 22%;
            top: 18%;
            left: 18%;
            z-index: 8;
        }

        #whiteboard {
            width: 16%;
            top: 30%;
            left: 24%;
            z-index: 9;
        }
        #whiteboard:hover {
            transform: none;
            filter: none; 
        }

        #bookshelf {
            width: 14%;
            top: 22%;
            left: 2%;
            z-index: 10;
        }

        #ukulele {
            width: 5%;
            top: 35%;
            left: 18%;
            z-index: 9;
        }

        /* == LEFT FLOOR AREA == */

        #desk {
            width: 20%;
            bottom: 3%; /* Position from bottom looks better for floor items */
            left: 4%;
            z-index: 14;
        }
        #desk:hover {
            transform: none;
            filter: none; 
        }

        #monitor {
            width: 9%; /* Adjust width to fit on desk */
            bottom: 31%; /* Position relative to the desk */
            left: 8%; /* Position relative to the desk */
            z-index: 15; /* Ensure it's above the desk */
        }

        /* Small items on/near desk */
        #noodles {
            width: 4.5%;
            bottom: 29%; /* Adjusted to sit on the desk */
            left: 12%; /* Adjusted to sit on the desk */
            z-index: 16;
        }

        #ps5 {
            width: 4.5%;
            bottom: 13%;
            left: 16%;
            z-index: 15; /* Behind desk leg */
        }

        #dumbell {
            width: 8%;
            bottom: 11%;
            right: 14%;
            z-index: 16;
        }

        /* == CENTER FLOOR AREA == */

        #bean-bag {
            width: 16%;
            bottom: 18%;
            left: 30%;
            z-index: 12;
        }

        /* Override the default asset hover effect for the bean bag to prevent scaling */
        #bean-bag:hover {
            transform: none;
            filter: none;
        }

        #cyborg {
            width: 14%; /* Adjust scale based on preference */
            bottom: 12%;
            left: 55%;
            transform: translateX(-50%);
            z-index: 18; /* In front of most things */
        }
        #cyborg:hover {
             transform: translateX(-50%) scale(1.1);
        }

        /* == RIGHT WALL & FLOOR AREA == */

        #painting {
            width: 14%;
            top: 28%;
            right: 19%;
            z-index: 8;
        }

        #posters {
            width: 15%;
            top: 18%;
            right: 2%;
            z-index: 8;
        }

        #plant {
            width: 8%;
            bottom: 20%;
            right: 18%;
            z-index: 14;
        }
        #plant:hover {
            transform: none;
            filter: none; 
        }

        #dog {
            width: 14%;
            bottom: 17%;
            right: 30%;
            z-index: 15;
        }
        #dog:hover {
            transform: none;
            filter: none;
        }

        #cabinet {
            width: 12%;
            bottom: 0%;
            right: 2%;
            z-index: 16;
        }
        #cabinet:hover {
            transform: none;
            filter: none; 
        }

        #phone {
            width: 3%;
            bottom: 22%; /* Sitting on top of cabinet */
            right: 10%;
            z-index: 17;
        }

        #speaker {
            width: 3%;
            bottom: 22%; /* Sitting on top of cabinet */
            right: 4%;
            z-index: 17;
        }

        /* --- LOADING OVERLAY (Optional but nice) --- */
        #loader {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #1a1a1a;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.5s;
        }

        /* Dialogue Box */
        #dialogue-box {
            position: absolute;
            bottom: 75%; /* Adjust position relative to cyborg */
            left: 25%;
            transform: translateX(-50%);
            width: 10%;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.8);
            border: 3px solid #00ff00; /* Pixelated green border */
            color: #00ff00;
            font-size: 0.5em;
            text-align: center;
            box-shadow: 0 0 0 3px #00ff00, 0 0 0 6px rgba(0,255,0,0.5); /* Outer glow */
            z-index: 200; /* Above all other elements */
            display: none; /* Hidden by default */
            image-rendering: pixelated;
            font-family: 'Press Start 2P', 'Courier New', Courier, monospace; /* Use imported pixel font, fallback to monospace */
            text-shadow: 1px 1px #000; /* For better readability on pixel font */
        }

        /* --- Hologram Styles --- */
        #phone-container {
            /* These values are taken from the original #phone styles */
            width: 3%;
            bottom: 22%;
            right: 9%;
            z-index: 17;
        }

        #phone-container #phone {
            width: 100%;
            position: static; /* The wrapper is now the positioned element */
            display: block; /* Ensure it behaves like a block element */
        }

        #hologram {
            position: absolute;
            bottom: 100%; /* Position above the phone */
            left: 50%;
            transform: translateX(-50%);
            width: 200%; /* Make it larger relative to the phone */
            aspect-ratio: 1.05 / 1; /* Match the aspect ratio of the hologram image */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0s linear 0.4s;
            pointer-events: none; /* Can't interact with it when hidden */
            z-index: 200; /* Ensure it appears above other elements */
            image-rendering: pixelated;
        }

        #phone-container:hover #hologram {
            opacity: 1;
            visibility: visible;
            transition-delay: 0s;
            pointer-events: auto; /* Allow interaction when visible */
        }

        #hologram .hologram-image {
            width: 100%;
            position: absolute;
            top: -10%;
            left: 0;
            pointer-events: none;
        }

        #hologram .hologram-link {
            position: absolute;
        }
    </style>
</head>
<body>

    <div id="room-container">
        
        <!-- Loader -->
        <div id="loader">Loading Assets...</div>

        <!-- Dialogue Box -->
        <div id="dialogue-box" class="pixel-font">
            <p id="dialogue-text"></p>
        </div>

        <!-- 1. Backgrounds -->
        <!-- Note: Ensure "night sky.png" is placed properly. It sits behind the window of "room.png" -->
        <img src="assets/night sky.png" id="night-sky" class="asset" alt="Night Sky">
        <img src="assets/room2.png" id="room-bg" class="asset" alt="Room Background">

        <!-- 2. Ceiling & Upper Walls -->
        <img src="assets/fan1.png" id="fan" class="asset" alt="Ceiling Fan">
        <img src="assets/polaroids1.png" id="polaroids" class="asset" alt="Polaroid Photos">
        <img src="assets/posters1.png" id="posters" class="asset" alt="Movie Posters">
        <img src="assets/painting1.png" id="painting" class="asset" alt="Starry Night Painting">
        <img src="assets/whiteboard1.png" id="whiteboard" class="asset" alt="Whiteboard">
        <img src="assets/bookshelf1.png" id="bookshelf" class="asset" alt="Bookshelf">
        <img src="assets/ukulele1.png" id="ukulele" class="asset" alt="Ukulele">

        <!-- 3. Floor & Furniture -->
        <img src="assets/desk.png" id="desk" class="asset" alt="Computer Desk">
        <img src="assets/monitor.png" id="monitor" class="asset" alt="Computer Monitor">
        <img src="assets/noodles1.png" id="noodles" class="asset" alt="Cup Noodles">
        <img src="assets/ps5 pixelated1.png" id="ps5" class="asset" alt="PS5 Console">
        <img src="assets/dumbell1.png" id="dumbell" class="asset" alt="Dumbbell">
        
        <img src="assets/bean bag2.png" id="bean-bag" class="asset" alt="Bean Bag Chair">
        
        <!-- Character -->
        <!--img src="assets/cyborg1.png" id="cyborg" class="asset" alt="Cyborg Character"-->

        <img src="assets/plant1.png" id="plant" class="asset" alt="House Plant">
        <img src="assets/dog.gif" id="dog" class="asset" alt="Sleeping Dog">
        
        <img src="assets/cabinet1.png" id="cabinet" class="asset" alt="Wooden Cabinet">
        <div id="phone-container" class="asset">
            <img src="assets/phone1.png" id="phone" alt="Smartphone">
            <div id="hologram">
                <img src="assets/hologram1.png" class="hologram-image" alt="Hologram Links">
                <a href="https://github.com/Paradox-73" target="_blank" class="hologram-link" style="top: 0; left: 0; width: 50%; height: 50%;" title="GitHub"></a>
                <a href="resume.pdf" target="_blank" class="hologram-link" style="top: 0; left: 50%; width: 50%; height: 50%;" title="Resume"></a>
                <a href="mailto:kanavbhardwaj5150@gmail.com" class="hologram-link" style="top: 50%; left: 0; width: 50%; height: 50%;" title="Email"></a>
                <a href="https://www.linkedin.com/in/kanav-bhardwaj-a25940281/" target="_blank" class="hologram-link" style="top: 50%; left: 50%; width: 50%; height: 50%;" title="LinkedIn"></a>
            </div>
        </div>
        <img src="assets/speaker1.png" id="speaker" class="asset" alt="Smartphone">

    </div>

    <script>
        window.onload = function() {
            const loader = document.getElementById('loader');
            const dialogueBox = document.getElementById('dialogue-box');
            const dialogueText = document.getElementById('dialogue-text');
            const roomContainer = document.getElementById('room-container');

            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);

            // Function to show dialogue
            function showDialogue(message) {
                const cyborg = document.getElementById('cyborg');
                const cyborgRect = cyborg.getBoundingClientRect();
                const roomRect = roomContainer.getBoundingClientRect();

                const cyborgLeft = (cyborgRect.left - roomRect.left) / roomRect.width * 100;
                const cyborgBottom = (roomRect.bottom - cyborgRect.bottom) / roomRect.height * 100;

                dialogueBox.style.left = `${cyborgLeft + (cyborgRect.width / roomRect.width * 100 / 2)}%`;
                dialogueBox.style.bottom = `${cyborgBottom + 18}%`;
                dialogueBox.style.transform = 'translateX(-50%)';

                dialogueText.textContent = message;
                dialogueBox.style.display = 'block';
            }

            // Function to hide dialogue
            function hideDialogue() {
                dialogueBox.style.display = 'none';
            }

            // --- BEAN BAG HOVER EFFECT ---
            // This script changes the bean bag's image on hover.
            const beanBag = document.getElementById('bean-bag');
            if (beanBag) {
                const originalSrc = beanBag.src;
                const hoverSrc = 'assets/bean bag3.png'; // The image to show on hover

                // Preload the hover image to prevent a flash on first hover
                const hoverImage = new Image();
                hoverImage.src = hoverSrc;

                beanBag.addEventListener('mouseenter', () => {
                    beanBag.src = hoverSrc;
                });

                beanBag.addEventListener('mouseleave', () => {
                    beanBag.src = originalSrc;
                });
            }
            // --- END BEAN BAG HOVER EFFECT ---

            // Map asset IDs to their messages and links
            const interactiveAssets = {
                'ukulele': { message: "Strumming some digital tunes.", link: "Music.html" },
                'posters': { message: "Escape into another reel.", link: "MoviesTV.html" },
                'ps5': { message: "Ready to level up?", link: "Games.html" },
                'painting': { message: "A splash of pixelated inspiration.", link: "art.html" },
                'noodles': { message: "Fueling up for code. Or just hungry.", link: "Food.html" },
                'polaroids': { message: "Memories captured, adventures await.", link: "Travel.html" },
                'bookshelf': { message: "Dive into a story.", link: "Literature.html" }
            };

            const assets = document.querySelectorAll('.asset');
            assets.forEach(asset => {
                const assetId = asset.id;
                const assetData = interactiveAssets[assetId];

                if (assetData) {
                    asset.addEventListener('mouseenter', () => {
                        showDialogue(assetData.message);
                    });
                    asset.addEventListener('mouseleave', () => {
                        hideDialogue();
                    });
                    asset.addEventListener('click', () => {
                        window.location.href = assetData.link;
                    });
                } else {
                    asset.addEventListener('click', () => {
                        console.log(`You clicked on: ${asset.alt}`);
                    });
                }
            });
        };
    </script>
</body>
</html>